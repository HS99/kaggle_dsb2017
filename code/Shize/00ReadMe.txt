How to use the codes under folder "code/Shize" to generate the final winning ensemble (ensemble_solution_v6.csv, private LB0.43019):


STEP0: Create three empty folders "pred", "pred_10run", and "pred_50run" under folder "code/Shize". Put the raw competition data files "stage1_labels.csv", "stage1_solution.csv" under the folder "code/Shize".   


STEP1: Copy the three extracted feature sets generated by codes in folder "code/Andre" from raw competition data. Put these three feature sets under folder "code/Shize". Each of these three feature set include two csv files: one for stage1 data (i.e., train data for stage2, with labels known), one for stage2 data (test data for stage2, labels unknown). The csv file names for these three feature sets are: 1) 1st set: feats_keras8_0313_stage1_1595_0411.csv, feats_keras8_0313_stage2_506_0411.csv; 2) 2nd set: feats_keras_0311_stage1_1595_0411.csv, feats_keras_0311_stage2_506_0411.csv; 3) 3rd set: feats_8_stage1_1595_0411.csv, feats_8_stage2_506_0411.csv.


STEP2: Run the 0DSB_cv_split.py to do stage1 train data 5fold cv split, and output as 'cv_index_1952.csv'. Then, run 0DSB_cv_split_public.py to do same 5fold cv split on stage1 public LB data and output as 'cv_index_1952_public.csv'. Executing this script 0DSB_cv_split_public.py will also combine 'cv_index_1952.csv' and 'cv_index_1952_public.csv' to generate 'cv_index_1952_all.csv', which is the 5fold cv split file on the full stage1 data. This 5fold cv split would be used in all the individual model scripts executed in STEP3 below. Also note that, in the three extracted feature sets, the stage1 feature data generated by "code/Andre" hasn't dealt with adding stage1 public LB solution labels to the corresponding records, so codes for individual models under folder "code/Shize" will take care of this part of adding the stage1 public LB solution labels to the corresponding records. Also note that, the extracted three feature sets, the column name for the id column is left blank, so so codes for individual models under folder "code/Shize" will also add id column name 'id' to it.


STEP3: Run following individual model scripts one by one to generate the individual prediction files: 

1) run 0Shize_DSB_etr_v21.py to generate "Shize_DSB_etr_v21_test_5foldAverage.csv" under the "pred" folder, 
2) run 0Shize_DSB_etr_v21_10run.py to generate "Shize_DSB_etr_v21_10run_averaged.csv" under the "pred_10run" folder, 

3) run 0Shize_DSB_etr_v0.py to generate "Shize_DSB_etr_v0_test_5foldAverage.csv" under the "pred" folder, 
4) run 0Shize_DSB_etr_v0_10run.py to generate "Shize_DSB_etr_v0_10run_averaged.csv" under the "pred_10run" folder, 

5) run 0Shize_DSB_xgb_v10.py to generate "Shize_DSB_xgb_v10_xgb_test_5foldAverage.csv" under the "pred" folder, 
6) run 0Shize_DSB_xgb_v10_50run.py to generate "Shize_DSB_xgb_v10_50run_averaged" under the "pred_50run" folder, 

7) run 0Shize_DSB_allFea_xgb_v1.py to generate "Shize_DSB_allFea_xgb_v1_test_5foldAverage.csv" under the "pred" folder, 
8) run 0Shize_DSB_allFea_xgb_v1_50run.py to generate "Shize_DSB_allFea_xgb_v1_50run_averaged" under the "pred_50run" folder, 

9) run 0Shize_DSB_feat3_xgb_v5.py to generate "Shize_DSB_xgb_feat3_v5_xgb_test_5foldAverage.csv" under the "pred" folder, 
10) run 0Shize_DSB_feat3_xgb_v5_50run.py to generate "Shize_DSB_feat3_xgb_v5_50run_averaged" under the "pred_50run" folder.


STEP4: Copy all the 10 individual prediction files from STEP3 above to the folder "code/Shize/ensemble". Run the ensemble script "0_FinaleEnsemble_sub01.py"
under folder "code/Shize/ensemble" to generate 'ensemble_solution_v1.csv'. Then, run the ensemble script "0_FinaleEnsemble_sub02.py"
under folder "code/Shize/ensemble" to generate 'ensemble_solution_v2.csv'. Finally, use 'ensemble_solution_v1.csv', 'ensemble_solution_v2.csv' and the above individual predictions files as input, run the ensemble script "0_FinaleEnsemble_sub06.py" under folder "code/Shize/ensemble" to generate 'ensemble_solution_v6.csv', which is our final winning ensemble submission on the private LB that gives us 8th place finish.

Done.



